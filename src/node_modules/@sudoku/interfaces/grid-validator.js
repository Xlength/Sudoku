/**
 * 数独网格验证器接口
 * 
 * OOAD设计原则：
 * 1. 开闭原则：可以添加新的验证规则而不修改现有代码
 * 2. 策略模式：不同的验证规则可以互相替换
 * 3. 单一职责：每个验证器只负责一种验证规则
 */
export class IGridValidator {
	/**
	 * 验证网格是否符合规则
	 * @param {number[][]} grid - 数独网格
	 * @returns {boolean} 是否符合规则
	 */
	validate(grid) {
		throw new Error('IGridValidator.validate() must be implemented');
	}

	/**
	 * 查找所有冲突的单元格
	 * @param {number[][]} grid - 数独网格
	 * @returns {Array<{x: number, y: number}>} 冲突单元格位置列表
	 */
	findConflicts(grid) {
		throw new Error('IGridValidator.findConflicts() must be implemented');
	}

	/**
	 * 检查指定位置是否有冲突
	 * @param {number[][]} grid - 数独网格
	 * @param {number} x - 列索引
	 * @param {number} y - 行索引
	 * @returns {boolean} 是否有冲突
	 */
	hasConflictAt(grid, x, y) {
		const conflicts = this.findConflicts(grid);
		return conflicts.some(pos => pos.x === x && pos.y === y);
	}
}